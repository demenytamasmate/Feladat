import csv
import json

# --- 1. CSV beolvasása ---
input_file = "konyvek.csv"
output_file = "konyvek.json"

books = []

with open(input_file, "r", encoding="utf-8") as f:
    reader = csv.DictReader(f)
    for row in reader:
        # Évszámot konvertáljuk számmá, ha lehet
        try:
            row["Kiadás Éve"] = int(row["Kiadás Éve"])
        except ValueError:
            pass
        books.append(row)

# --- 2. JSON fájl írása ---
with open(output_file, "w", encoding="utf-8") as f:
    json.dump(books, f, ensure_ascii=False, indent=4)

print(f"✅ JSON fájl elkészült: {output_file}")
